{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\owner\\\\Desktop\\\\my-applications\\\\social-media\\\\client\\\\src\\\\components\\\\home\\\\postCard\\\\CardFooter.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Send from \"../../../images/send.svg\";\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport LikeBtn from \"../../btn/LikeBtn\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { likePostAction, savePostAction, unLikePostAction, unSavePostAction } from \"../../../redux/actions/post\";\nimport ShareModel from \"../../modal/ShareModel\";\nimport { BASE_URL } from \"../../../utils/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CardFooter(_ref) {\n  _s();\n\n  let {\n    post\n  } = _ref;\n  const [isLike, setIsLike] = useState(false);\n  const [loadLike, setLoadLike] = useState(false);\n  const [isShare, setIsShare] = useState(false);\n  const [isSaved, setIsSaved] = useState(false);\n  const [loadSaved, setLoadSaved] = useState(false);\n  const {\n    auth,\n    theme,\n    socket\n  } = useSelector(state => state);\n  const dispatch = useDispatch(); //== likes=== //\n\n  useEffect(() => {\n    if (post.likes.find(like => like._id === auth.user._id)) {\n      setIsLike(true);\n    } else {\n      setIsLike(false);\n    }\n  }, [post.likes, auth.user]);\n\n  const handelLike = async () => {\n    if (loadLike) return;\n    setIsLike(true);\n    setLoadLike(true);\n    dispatch(likePostAction({\n      post,\n      auth,\n      socket\n    }));\n    setLoadLike(false);\n  };\n\n  const handelUnLike = () => {\n    if (loadLike) return;\n    setIsLike(false);\n    setLoadLike(true);\n    dispatch(unLikePostAction({\n      post,\n      auth,\n      socket\n    }));\n    setLoadLike(false);\n  }; // ===likes=== //\n\n\n  useEffect(() => {\n    if (auth.user.saved.find(id => id === post._id)) {\n      setIsSaved(true);\n    } else {\n      setIsSaved(false);\n    }\n  }, [auth.user.saved, post._id]);\n\n  const handelSaved = () => {\n    if (loadSaved) return;\n    setIsSaved(true);\n    setLoadSaved(true);\n    dispatch(savePostAction({\n      post,\n      auth\n    }));\n    setLoadSaved(false);\n  };\n\n  const handelUnSaved = () => {\n    if (loadSaved) return;\n    setIsSaved(false);\n    setLoadSaved(true);\n    dispatch(unSavePostAction({\n      post,\n      auth\n    }));\n    setLoadSaved(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card_footer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card_icon_menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(LikeBtn, {\n          isLike: isLike,\n          handelLike: handelLike,\n          handelUnLike: handelUnLike\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/post/${post._id}`,\n          className: \"text-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            \"aria-hidden\": true,\n            className: \"far fa-comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Send,\n          alt: \"send\",\n          onClick: () => setIsShare(!isShare)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), isSaved ? /*#__PURE__*/_jsxDEV(\"i\", {\n        \"aria-hidden\": true,\n        className: \"fas fa-bookmark text-info\",\n        onClick: handelUnSaved,\n        style: {\n          filter: theme ? \"invert(1)\" : \"invert(0)\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n        \"aria-hidden\": true,\n        className: \"far fa-bookmark\",\n        onClick: handelSaved\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"\",\n        style: {\n          padding: \"0 25px\",\n          cursor: \"pointer\"\n        },\n        children: [post.likes.length, \" likes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"\",\n        style: {\n          padding: \"0 25px\",\n          cursor: \"pointer\"\n        },\n        children: [post.comments.length, \" comments\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: isShare && /*#__PURE__*/_jsxDEV(ShareModel, {\n        url: `${BASE_URL}/post/${post._id}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CardFooter, \"PCDBA5Mzx9kdZwj25v1bDZnOI1c=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = CardFooter;\nCardFooter.propTypes = {\n  post: PropTypes.object\n};\nexport default CardFooter;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardFooter\");","map":{"version":3,"names":["React","useEffect","PropTypes","Send","Link","useState","LikeBtn","useDispatch","useSelector","likePostAction","savePostAction","unLikePostAction","unSavePostAction","ShareModel","BASE_URL","CardFooter","post","isLike","setIsLike","loadLike","setLoadLike","isShare","setIsShare","isSaved","setIsSaved","loadSaved","setLoadSaved","auth","theme","socket","state","dispatch","likes","find","like","_id","user","handelLike","handelUnLike","saved","id","handelSaved","handelUnSaved","filter","padding","cursor","length","comments","propTypes","object"],"sources":["C:/Users/owner/Desktop/my-applications/social-media/client/src/components/home/postCard/CardFooter.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Send from \"../../../images/send.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport LikeBtn from \"../../btn/LikeBtn\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  likePostAction,\r\n  savePostAction,\r\n  unLikePostAction,\r\n  unSavePostAction,\r\n} from \"../../../redux/actions/post\";\r\nimport ShareModel from \"../../modal/ShareModel\";\r\nimport { BASE_URL } from \"../../../utils/config\";\r\nfunction CardFooter({ post }) {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [isShare, setIsShare] = useState(false);\r\n  const [isSaved, setIsSaved] = useState(false);\r\n  const [loadSaved, setLoadSaved] = useState(false);\r\n\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  //== likes=== //\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    } else {\r\n      setIsLike(false);\r\n    }\r\n  }, [post.likes, auth.user]);\r\n\r\n  const handelLike = async () => {\r\n    if (loadLike) return;\r\n    setIsLike(true);\r\n    setLoadLike(true);\r\n    dispatch(likePostAction({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n  const handelUnLike = () => {\r\n    if (loadLike) return;\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    dispatch(unLikePostAction({ post, auth, socket }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  // ===likes=== //\r\n\r\n  useEffect(() => {\r\n    if (auth.user.saved.find((id) => id === post._id)) {\r\n      setIsSaved(true);\r\n    } else {\r\n      setIsSaved(false);\r\n    }\r\n  }, [auth.user.saved, post._id]);\r\n  const handelSaved = () => {\r\n    if (loadSaved) return;\r\n\r\n    setIsSaved(true);\r\n    setLoadSaved(true);\r\n    dispatch(savePostAction({ post, auth }));\r\n    setLoadSaved(false);\r\n  };\r\n  const handelUnSaved = () => {\r\n    if (loadSaved) return;\r\n    setIsSaved(false);\r\n    setLoadSaved(true);\r\n    dispatch(unSavePostAction({ post, auth }));\r\n    setLoadSaved(false);\r\n  };\r\n  return (\r\n    <div className=\"card_footer\">\r\n      <div className=\"card_icon_menu\">\r\n        <div>\r\n          <LikeBtn\r\n            isLike={isLike}\r\n            handelLike={handelLike}\r\n            handelUnLike={handelUnLike}\r\n          />\r\n          <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n            <i aria-hidden className=\"far fa-comment\"></i>\r\n          </Link>\r\n          <img src={Send} alt=\"send\" onClick={() => setIsShare(!isShare)} />\r\n        </div>\r\n        {isSaved ? (\r\n          <i\r\n            aria-hidden\r\n            className=\"fas fa-bookmark text-info\"\r\n            onClick={handelUnSaved}\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          ></i>\r\n        ) : (\r\n          <i aria-hidden className=\"far fa-bookmark\" onClick={handelSaved}></i>\r\n        )}{\" \"}\r\n      </div>\r\n      <div className=\"d-flex justify-content-between\">\r\n        <h6 className=\"\" style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n          {post.likes.length} likes\r\n        </h6>\r\n        <h6 className=\"\" style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n          {post.comments.length} comments\r\n        </h6>\r\n      </div>\r\n      <div>\r\n        {isShare && <ShareModel url={`${BASE_URL}/post/${post._id}`} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nCardFooter.propTypes = {\r\n  post: PropTypes.object,\r\n};\r\n\r\nexport default CardFooter;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
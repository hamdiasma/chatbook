{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\owner\\\\Desktop\\\\my-applications\\\\social-media\\\\client\\\\src\\\\components\\\\hedaer\\\\Search.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { alertAction } from \"../../redux/actions/alert\";\nimport { getData } from \"../../utils/fetchData\";\nimport { lowerText } from \"../../utils/lowerCasetext\";\nimport UserCard from \"../card/UserCard\";\nimport LoadingImg from \"../../images/loading.gif\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Search() {\n  _s();\n\n  const [search, setSearch] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const [load, setLoad] = useState(false);\n  const dispatch = useDispatch();\n  const {\n    auth,\n    theme\n  } = useSelector(state => state);\n\n  const handelSearch = async e => {\n    e.preventDefault();\n\n    if (!search) {\n      setUsers([]);\n      return;\n    }\n\n    try {\n      setLoad(true);\n      const res = await getData(`search?username=${search}`, auth.token);\n      setTimeout(() => {\n        setUsers(res.data.users);\n        setLoad(false);\n      }, 1000);\n    } catch (error) {\n      dispatch(alertAction({\n        error: error.response.data.msg\n      }));\n    }\n  };\n\n  const handelClose = () => {\n    setSearch(\"\");\n    setUsers([]);\n    window.scrollTo(0, 0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"search-form\",\n    autoComplete: \"new-password\",\n    onSubmit: handelSearch,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: theme ? \"search-darck\" : \"search-light\",\n      style: {\n        filter: theme ? \"invert(1)\" : \"invert(0)\",\n        background: theme ? \"#ffffff42\" : \"\",\n        color: theme ? \"#fff\" : \"\",\n        border: theme ? \"1px solid #dddddd0d\" : \"1px solid  #e0dada\"\n      },\n      autoComplete: \"off\",\n      type: \"text\",\n      name: \"search\",\n      value: search,\n      id: \"search\",\n      onChange: e => {\n        if (!e.isTrusted) return;\n        setSearch(lowerText(e.target.value));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search_icon\",\n      style: {\n        opacity: search ? 0 : 0.3\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), load ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: LoadingImg,\n      alt: \"loading\",\n      className: \"loading-search\",\n      role: \"status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close_search\",\n      style: {\n        display: search ? \"block\" : \"none\"\n      },\n      onClick: handelClose,\n      children: \"\\xD7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        display: \"none\"\n      },\n      type: \"submit\",\n      children: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users_results\",\n      children: search && users.length > 0 && users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: handelClose,\n        children: /*#__PURE__*/_jsxDEV(UserCard, {\n          user: user,\n          border: \"border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this)\n      }, user._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Search, \"ihtD1o0EX+Eg/bHNbUwTu6nuDLo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","alertAction","getData","lowerText","UserCard","LoadingImg","Search","search","setSearch","users","setUsers","load","setLoad","dispatch","auth","theme","state","handelSearch","e","preventDefault","res","token","setTimeout","data","error","response","msg","handelClose","window","scrollTo","filter","background","color","border","isTrusted","target","value","opacity","display","length","map","user","_id"],"sources":["C:/Users/owner/Desktop/my-applications/social-media/client/src/components/hedaer/Search.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { alertAction } from \"../../redux/actions/alert\";\r\nimport { getData } from \"../../utils/fetchData\";\r\nimport { lowerText } from \"../../utils/lowerCasetext\";\r\nimport UserCard from \"../card/UserCard\";\r\nimport LoadingImg from \"../../images/loading.gif\";\r\nfunction Search() {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  const [load, setLoad] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const { auth, theme } = useSelector((state) => state);\r\n\r\n  const handelSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!search) {\r\n      setUsers([]);\r\n      return;\r\n    }\r\n    try {\r\n      setLoad(true);\r\n      const res = await getData(`search?username=${search}`, auth.token);\r\n      setTimeout(() => {\r\n        setUsers(res.data.users);\r\n        setLoad(false);\r\n      }, 1000);\r\n    } catch (error) {\r\n      dispatch(alertAction({ error: error.response.data.msg }));\r\n    }\r\n  };\r\n\r\n  const handelClose = () => {\r\n    setSearch(\"\");\r\n    setUsers([]);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className=\"search-form\"\r\n      autoComplete=\"new-password\"\r\n      onSubmit={handelSearch}\r\n    >\r\n      <input\r\n        className={theme ? \"search-darck\" : \"search-light\"}\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          background: theme ? \"#ffffff42\" : \"\",\r\n          color: theme ? \"#fff\" : \"\",\r\n          border: theme ? \"1px solid #dddddd0d\" : \"1px solid  #e0dada\",\r\n        }}\r\n        autoComplete=\"off\"\r\n        type=\"text\"\r\n        name=\"search\"\r\n        value={search}\r\n        id=\"search\"\r\n        onChange={(e) => {\r\n          if (!e.isTrusted) return;\r\n          setSearch(lowerText(e.target.value));\r\n        }}\r\n      />\r\n      <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.3 }}>\r\n        <i className=\"fas fa-search\"></i>\r\n        <span>Search</span>\r\n      </div>\r\n      {load ? (\r\n        <img\r\n          src={LoadingImg}\r\n          alt=\"loading\"\r\n          className=\"loading-search\"\r\n          role=\"status\"\r\n        />\r\n      ) : (\r\n        <div\r\n          className=\"close_search\"\r\n          style={{ display: search ? \"block\" : \"none\" }}\r\n          onClick={handelClose}\r\n        >\r\n          &times;\r\n        </div>\r\n      )}\r\n      <button style={{ display: \"none\" }} type=\"submit\">\r\n        submit\r\n      </button>\r\n\r\n      <div className=\"users_results\">\r\n        {search &&\r\n          users.length > 0 &&\r\n          users.map((user) => (\r\n            <div key={user._id} onClick={handelClose}>\r\n              <UserCard user={user} border=\"border\" />\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
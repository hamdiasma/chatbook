{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\owner\\\\Desktop\\\\my-applications\\\\social-media\\\\client\\\\src\\\\components\\\\home\\\\comments\\\\Comment.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport CommentDisplay from \"./CommentDispaly\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Comment(_ref) {\n  _s();\n\n  let {\n    post,\n    theme\n  } = _ref;\n  const [comments, setComments] = useState([]);\n  const [showComments, setShowComments] = useState([]);\n  const [replyComments, setReplyComments] = useState([]);\n  const [next, setNext] = useState(2);\n  useEffect(() => {\n    const newCm = post.comments.filter(cm => !cm.reply); // .sort((a, b) => (a.createdAt > b.createdAt ? 1 : -1));\n\n    setComments(newCm);\n\n    if (newCm.length > next) {\n      setShowComments(newCm.slice(newCm.length - next));\n    } else {\n      setShowComments(newCm);\n    }\n  }, [post.comments, next]);\n  useEffect(() => {\n    const newReply = post.comments.filter(cm => cm.reply); // .sort((a, b) => (a.createdAt > b.createdAt ? 1 : -1));\n\n    setReplyComments(newReply);\n  }, [post.comments]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments\",\n    children: [showComments.sort((a, b) => a.createdAt > b.createdAt ? -1 : 1).map((comment, i) => /*#__PURE__*/_jsxDEV(CommentDisplay, {\n      theme: theme,\n      comment: comment,\n      post: post,\n      replyCm: replyComments.filter(item => item.reply === comment._id)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }, this)), comments.length - next > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 border-top d-flex justify-content-between\",\n      style: {\n        filter: theme ? \"invert(1)\" : \"invert(0)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          cursor: \"pointer\",\n          color: \"crimson\"\n        },\n        onClick: () => setNext(next + 5),\n        children: \"see more comments..!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), showComments.length > 2 && /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          cursor: \"pointer\",\n          color: \"crimson\"\n        },\n        onClick: () => setNext(2),\n        children: \"hide comments..!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : comments.length > 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 border-top\",\n      style: {\n        filter: theme ? \"invert(1)\" : \"invert(0)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          cursor: \"pointer\",\n          color: \"crimson\"\n        },\n        onClick: () => setNext(2),\n        children: \"hide comments..!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Comment, \"eEdGXWM5CE0BBBqi5R2PHtJzB4Q=\");\n\n_c = Comment;\nComment.propTypes = {\n  post: PropTypes.object\n};\nexport default Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["React","useEffect","useState","CommentDisplay","PropTypes","Comment","post","theme","comments","setComments","showComments","setShowComments","replyComments","setReplyComments","next","setNext","newCm","filter","cm","reply","length","slice","newReply","sort","a","b","createdAt","map","comment","i","item","_id","cursor","color","propTypes","object"],"sources":["C:/Users/owner/Desktop/my-applications/social-media/client/src/components/home/comments/Comment.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport CommentDisplay from \"./CommentDispaly\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Comment({ post, theme }) {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n  const [next, setNext] = useState(2);\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    // .sort((a, b) => (a.createdAt > b.createdAt ? 1 : -1));\r\n    setComments(newCm);\r\n    if (newCm.length > next) {\r\n      setShowComments(newCm.slice(newCm.length - next));\r\n    } else {\r\n      setShowComments(newCm);\r\n    }\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newReply = post.comments.filter((cm) => cm.reply);\r\n    // .sort((a, b) => (a.createdAt > b.createdAt ? 1 : -1));\r\n    setReplyComments(newReply);\r\n  }, [post.comments]);\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      {showComments\r\n        .sort((a, b) => (a.createdAt > b.createdAt ? -1 : 1))\r\n        .map((comment, i) => (\r\n          <CommentDisplay\r\n            theme={theme}\r\n            key={i}\r\n            comment={comment}\r\n            post={post}\r\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n          />\r\n        ))}\r\n      {comments.length - next > 0 ? (\r\n        <div\r\n          className=\"p-2 border-top d-flex justify-content-between\"\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        >\r\n          <small\r\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            onClick={() => setNext(next + 5)}\r\n          >\r\n            see more comments..!\r\n          </small>\r\n\r\n          {showComments.length > 2 && (\r\n            <small\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n              onClick={() => setNext(2)}\r\n            >\r\n              hide comments..!\r\n            </small>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        comments.length > 2 && (\r\n          <div\r\n            className=\"p-2 border-top\"\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          >\r\n            <small\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n              onClick={() => setNext(2)}\r\n            >\r\n              hide comments..!\r\n            </small>\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nComment.propTypes = {\r\n  post: PropTypes.object,\r\n};\r\n\r\nexport default Comment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}